import { Question } from "../types";

export const questions: Question[] = [
  // ═══════════════════════════════════════════════════════════════
  //  PROBABILITY
  // ═══════════════════════════════════════════════════════════════
  {
    id: "prob-1",
    category: "probability",
    difficulty: "easy",
    duration: "quick",
    tags: ["expected-value", "interview-classic"],
    title: "Coin Flip Expectation",
    body: "You flip a fair coin 10 times. What is the expected number of heads?",
    choices: ["4", "5", "6", "10"],
    correctIndex: 1,
    explanation:
      "By linearity of expectation, E[heads] = n \u00d7 p = 10 \u00d7 0.5 = 5.",
  },
  {
    id: "prob-2",
    category: "probability",
    difficulty: "easy",
    duration: "quick",
    tags: ["combinatorics", "interview-classic"],
    title: "Dice Roll Sum",
    body: "What is the probability of rolling a sum of 7 with two fair dice?",
    choices: ["1/9", "1/6", "5/36", "7/36"],
    correctIndex: 1,
    explanation:
      "There are 6 ways to make 7 out of 36 outcomes: (1,6),(2,5),(3,4),(4,3),(5,2),(6,1). P = 6/36 = 1/6.",
  },
  {
    id: "prob-3",
    category: "probability",
    difficulty: "medium",
    duration: "medium",
    tags: ["combinatorics", "interview-classic"],
    title: "Birthday Problem",
    body: "Minimum number of people for >50% chance that at least two share a birthday?",
    choices: ["23", "50", "57", "183"],
    correctIndex: 0,
    explanation:
      "With 23 people, P(match) \u2248 50.7%. Uses the complement: P = 1 \u2212 (365/365)(364/365)\u2026(343/365).",
  },
  {
    id: "prob-4",
    category: "probability",
    difficulty: "medium",
    duration: "medium",
    tags: ["bayesian", "interview-classic"],
    title: "Bayes' Theorem: Disease Test",
    body: "A test has 95% sensitivity and 95% specificity. If 1% of the population has the disease, what\u2019s P(disease | positive test)?",
    choices: ["\u224895%", "\u224850%", "\u224816%", "\u22482%"],
    correctIndex: 2,
    explanation:
      "P(D|+) = (0.95\u00d70.01)/(0.95\u00d70.01 + 0.05\u00d70.99) = 0.0095/0.059 \u2248 16.1%. Low base rate crushes the PPV.",
  },
  {
    id: "prob-5",
    category: "probability",
    difficulty: "hard",
    duration: "medium",
    tags: ["expected-value", "interview-classic"],
    title: "Gambler\u2019s Ruin",
    body: "Fair game: start at $3, win/lose $1 per round. Game ends at $5 or $0. P(ruin)?",
    choices: ["1/5", "2/5", "3/5", "1/2"],
    correctIndex: 1,
    explanation:
      "In fair gambler\u2019s ruin, P(ruin from k) = 1 \u2212 k/N. Here k=3, N=5, so P = 1 \u2212 3/5 = 2/5.",
  },
  {
    id: "prob-6",
    category: "probability",
    difficulty: "hard",
    duration: "medium",
    tags: ["expected-value", "combinatorics"],
    title: "Coupon Collector",
    body: "Expected draws to collect all 6 types of equally likely coupons?",
    choices: ["6", "10.7", "14.7", "36"],
    correctIndex: 2,
    explanation:
      "E = 6\u00d7H\u2086 = 6(1 + 1/2 + 1/3 + 1/4 + 1/5 + 1/6) = 6 \u00d7 2.45 = 14.7.",
  },
  {
    id: "prob-7",
    category: "probability",
    difficulty: "easy",
    duration: "quick",
    tags: ["distributions", "expected-value"],
    title: "Geometric Distribution",
    body: "You flip a fair coin until you get heads. What is the expected number of flips?",
    choices: ["1", "2", "4", "\u221e"],
    correctIndex: 1,
    explanation:
      "Geometric distribution with p=0.5: E[X] = 1/p = 2 flips on average.",
  },
  {
    id: "prob-8",
    category: "probability",
    difficulty: "medium",
    duration: "quick",
    tags: ["distributions"],
    title: "Poisson Probability",
    body: "A call center gets 2 calls/minute on average (Poisson). P(0 calls in a given minute)?",
    choices: ["e\u207b\u00b2 \u2248 0.135", "0.5", "0.25", "0"],
    correctIndex: 0,
    explanation:
      "Poisson P(X=0) = e^(\u2212\u03bb)\u03bb\u2070/0! = e\u207b\u00b2 \u2248 0.135.",
  },
  {
    id: "prob-9",
    category: "probability",
    difficulty: "hard",
    duration: "long",
    tags: ["martingale", "expected-value"],
    title: "Optional Stopping",
    body: "A symmetric random walk starts at 0. What is E[T] where T = first time the walk hits +1 or \u221210?",
    choices: ["5.5", "10", "11", "\u221e"],
    correctIndex: 1,
    explanation:
      "By optional stopping on the martingale X\u00b2\u2212t: E[T] = E[X_T\u00b2] = (10/11)(1) + (1/11)(100) = 10.",
  },
  {
    id: "prob-10",
    category: "probability",
    difficulty: "medium",
    duration: "quick",
    tags: ["expected-value", "interview-classic"],
    title: "Expected Max of Uniforms",
    body: "Draw 2 numbers independently from Uniform[0,1]. E[max(X,Y)]?",
    choices: ["1/2", "2/3", "3/4", "1"],
    correctIndex: 1,
    explanation:
      "E[max(X\u2081,X\u2082)] = n/(n+1) for n i.i.d. Uniform[0,1]. For n=2: E = 2/3.",
  },
  {
    id: "prob-11",
    category: "probability",
    difficulty: "hard",
    duration: "long",
    tags: ["combinatorics", "interview-classic"],
    title: "Derangements",
    body: "Fraction of permutations of n elements with NO fixed points, as n \u2192 \u221e?",
    choices: ["1/2", "1/e \u2248 0.368", "1 \u2212 1/e \u2248 0.632", "0"],
    correctIndex: 1,
    explanation:
      "D(n)/n! \u2192 1/e by inclusion-exclusion. D(n) = n!\u2211(\u22121)^k/k! for k=0..n.",
  },

  // ═══════════════════════════════════════════════════════════════
  //  STATISTICS
  // ═══════════════════════════════════════════════════════════════
  {
    id: "stat-1",
    category: "statistics",
    difficulty: "easy",
    duration: "quick",
    tags: ["distributions"],
    title: "Central Limit Theorem",
    body: "The CLT says the sampling distribution of the sample mean approaches which distribution?",
    choices: ["Uniform", "Poisson", "Normal", "Exponential"],
    correctIndex: 2,
    explanation:
      "Regardless of the population distribution, sample means \u2192 Normal as n \u2192 \u221e.",
  },
  {
    id: "stat-2",
    category: "statistics",
    difficulty: "easy",
    duration: "quick",
    tags: ["variance"],
    title: "Variance of Sum",
    body: "X and Y independent with Var(X)=4, Var(Y)=9. What is Var(X+Y)?",
    choices: ["5", "13", "6", "36"],
    correctIndex: 1,
    explanation:
      "For independent RVs: Var(X+Y) = Var(X) + Var(Y) = 4 + 9 = 13.",
  },
  {
    id: "stat-3",
    category: "statistics",
    difficulty: "medium",
    duration: "quick",
    tags: ["regression"],
    title: "Correlation Coefficient",
    body: "Cov(X,Y) = 6, SD(X) = 3, SD(Y) = 4. What is \u03c1(X,Y)?",
    choices: ["0.25", "0.5", "0.75", "2"],
    correctIndex: 1,
    explanation: "\u03c1 = Cov(X,Y)/(SD(X)\u00d7SD(Y)) = 6/(3\u00d74) = 0.5.",
  },
  {
    id: "stat-4",
    category: "statistics",
    difficulty: "medium",
    duration: "medium",
    tags: ["distributions"],
    title: "MLE for Exponential",
    body: "For n observations from Exp(\u03bb), the MLE of \u03bb is:",
    choices: ["n / \u2211x\u1d62", "\u2211x\u1d62 / n", "max(x\u1d62)", "min(x\u1d62)"],
    correctIndex: 0,
    explanation:
      "Log-likelihood: l(\u03bb) = n\u00b7ln(\u03bb) \u2212 \u03bb\u2211x\u1d62. Setting dl/d\u03bb = 0 gives \u03bb\u0302 = n/\u2211x\u1d62.",
  },
  {
    id: "stat-5",
    category: "statistics",
    difficulty: "hard",
    duration: "long",
    tags: ["variance", "expected-value"],
    title: "Law of Total Variance",
    body: "Var(Y) = E[Var(Y|X)] + Var(E[Y|X]). If E[Y|X]=2X, Var(Y|X)=3, E[X]=1, Var(X)=2. Var(Y)?",
    choices: ["7", "8", "11", "14"],
    correctIndex: 2,
    explanation:
      "E[Var(Y|X)] = 3. Var(E[Y|X]) = Var(2X) = 4\u00b7Var(X) = 8. Var(Y) = 3 + 8 = 11.",
  },
  {
    id: "stat-6",
    category: "statistics",
    difficulty: "easy",
    duration: "quick",
    tags: ["distributions"],
    title: "68-95-99.7 Rule",
    body: "What % of data falls within 2\u03c3 of the mean in a normal distribution?",
    choices: ["68%", "90%", "95%", "99.7%"],
    correctIndex: 2,
    explanation: "~68% within 1\u03c3, ~95% within 2\u03c3, ~99.7% within 3\u03c3.",
  },
  {
    id: "stat-7",
    category: "statistics",
    difficulty: "medium",
    duration: "medium",
    tags: ["regression"],
    title: "R\u00b2 Interpretation",
    body: "Linear regression: R\u00b2 = 0.81 and \u03c1(X,Y) > 0. What is \u03c1(X,Y)?",
    choices: ["0.81", "0.9", "0.656", "0.405"],
    correctIndex: 1,
    explanation: "R\u00b2 = \u03c1\u00b2 in simple regression. \u03c1 = \u221a0.81 = 0.9.",
  },
  {
    id: "stat-8",
    category: "statistics",
    difficulty: "hard",
    duration: "medium",
    tags: ["time-series"],
    title: "AR(1) Stationarity",
    body: "AR(1): X\u209c = \u03d5X\u209c\u208b\u2081 + \u03b5\u209c is stationary when:",
    choices: ["\u03d5 > 0", "|\u03d5| < 1", "\u03d5 < 1", "|\u03d5| = 1"],
    correctIndex: 1,
    explanation:
      "Stationarity requires |\u03d5| < 1. At |\u03d5|=1 we get a random walk (unit root).",
  },
  {
    id: "stat-9",
    category: "statistics",
    difficulty: "medium",
    duration: "quick",
    tags: ["bayesian"],
    title: "Conjugate Prior",
    body: "The conjugate prior for a Bernoulli likelihood is:",
    choices: ["Normal", "Beta", "Gamma", "Poisson"],
    correctIndex: 1,
    explanation:
      "Beta is conjugate for Bernoulli/Binomial. Posterior stays Beta.",
  },
  {
    id: "stat-10",
    category: "statistics",
    difficulty: "hard",
    duration: "long",
    tags: ["time-series", "variance"],
    title: "GARCH(1,1) Persistence",
    body: "GARCH(1,1): \u03c3\u00b2\u209c = \u03c9 + \u03b1\u03b5\u00b2\u209c\u208b\u2081 + \u03b2\u03c3\u00b2\u209c\u208b\u2081. Unconditional variance exists when:",
    choices: ["\u03b1 + \u03b2 < 1", "\u03b1 + \u03b2 = 1", "\u03b1 < 1", "\u03b2 < 1"],
    correctIndex: 0,
    explanation:
      "Unconditional variance = \u03c9/(1\u2212\u03b1\u2212\u03b2), exists only when \u03b1+\u03b2 < 1.",
  },

  // ═══════════════════════════════════════════════════════════════
  //  STOCHASTIC CALCULUS
  // ═══════════════════════════════════════════════════════════════
  {
    id: "stoch-1",
    category: "stochastic-calculus",
    difficulty: "easy",
    duration: "quick",
    tags: ["martingale"],
    title: "Brownian Motion Property",
    body: "Which property does standard Brownian motion W(t) NOT have?",
    choices: [
      "W(0) = 0",
      "Independent increments",
      "Continuous paths",
      "Stationary distribution",
    ],
    correctIndex: 3,
    explanation:
      "W(t) ~ N(0,t) \u2014 variance grows with t, so there\u2019s no stationary distribution.",
  },
  {
    id: "stoch-2",
    category: "stochastic-calculus",
    difficulty: "medium",
    duration: "medium",
    tags: ["ito-calculus", "interview-classic", "derivation"],
    title: "It\u00f4\u2019s Lemma: d(ln S)",
    body: "If dS = \u03bcS dt + \u03c3S dW, what is d(ln S)?",
    choices: [
      "(\u03bc \u2212 \u03c3\u00b2/2) dt + \u03c3 dW",
      "\u03bc dt + \u03c3 dW",
      "(\u03bc + \u03c3\u00b2/2) dt + \u03c3 dW",
      "(\u03bc \u2212 \u03c3\u00b2) dt + \u03c3 dW",
    ],
    correctIndex: 0,
    explanation:
      "It\u00f4\u2019s lemma on f(S)=ln(S): df = (1/S)dS \u2212 \u00bd(1/S\u00b2)(\u03c3S)\u00b2dt = (\u03bc \u2212 \u03c3\u00b2/2)dt + \u03c3dW.",
  },
  {
    id: "stoch-3",
    category: "stochastic-calculus",
    difficulty: "medium",
    duration: "quick",
    tags: ["ito-calculus"],
    title: "Quadratic Variation",
    body: "What is [W,W](t) of standard BM over [0,t]?",
    choices: ["0", "t", "t\u00b2", "\u221at"],
    correctIndex: 1,
    explanation:
      "[W,W](t) = t because (dW)\u00b2 = dt in It\u00f4 calculus.",
  },
  {
    id: "stoch-4",
    category: "stochastic-calculus",
    difficulty: "hard",
    duration: "medium",
    tags: ["martingale", "risk-management"],
    title: "Girsanov\u2019s Theorem",
    body: "Changing from P to risk-neutral Q measure via Girsanov is used to:",
    choices: [
      "Eliminate volatility",
      "Make all assets earn r in expectation",
      "Remove randomness",
      "Increase Sharpe ratio",
    ],
    correctIndex: 1,
    explanation:
      "Under Q, discounted assets are martingales \u2014 all earn the risk-free rate in expectation.",
  },
  {
    id: "stoch-5",
    category: "stochastic-calculus",
    difficulty: "hard",
    duration: "long",
    tags: ["mean-reversion", "derivation"],
    title: "OU Process Variance",
    body: "dX = \u03b8(\u03bc \u2212 X)dt + \u03c3dW. Long-run variance as t \u2192 \u221e?",
    choices: ["\u03c3\u00b2/(2\u03b8)", "\u03c3\u00b2/\u03b8", "\u03c3\u00b2\u03b8/2", "\u03c3\u00b2"],
    correctIndex: 0,
    explanation:
      "OU stationary variance = \u03c3\u00b2/(2\u03b8). Higher \u03b8 = faster reversion = less variance.",
  },
  {
    id: "stoch-6",
    category: "stochastic-calculus",
    difficulty: "easy",
    duration: "quick",
    tags: ["distributions"],
    title: "Brownian Increment",
    body: "W is standard BM. What is the distribution of W(3) \u2212 W(1)?",
    choices: ["N(0, 2)", "N(0, 3)", "N(0, 4)", "N(2, 1)"],
    correctIndex: 0,
    explanation:
      "W(t)\u2212W(s) ~ N(0, t\u2212s). So W(3)\u2212W(1) ~ N(0, 2).",
  },
  {
    id: "stoch-7",
    category: "stochastic-calculus",
    difficulty: "medium",
    duration: "medium",
    tags: ["ito-calculus", "derivation"],
    title: "It\u00f4 Isometry",
    body: "For deterministic f(t), E[(\u222b\u2080\u1d40 f(t)dW)\u00b2] equals:",
    choices: [
      "(\u222b\u2080\u1d40 f(t)dt)\u00b2",
      "\u222b\u2080\u1d40 f(t)\u00b2 dt",
      "\u222b\u2080\u1d40 |f(t)| dt",
      "T \u00d7 E[f\u00b2]",
    ],
    correctIndex: 1,
    explanation:
      "It\u00f4 isometry: E[(\u222bf dW)\u00b2] = \u222bf\u00b2 dt. Square goes inside, dW \u2192 dt.",
  },
  {
    id: "stoch-8",
    category: "stochastic-calculus",
    difficulty: "hard",
    duration: "long",
    tags: ["pde", "black-scholes", "derivation"],
    title: "Feynman-Kac",
    body: "Feynman-Kac theorem links which two objects?",
    choices: [
      "SDEs and linear algebra",
      "PDEs and expectations of diffusions",
      "Martingales and Markov chains",
      "Fourier transforms and option prices",
    ],
    correctIndex: 1,
    explanation:
      "Feynman-Kac connects PDEs to conditional expectations of stochastic processes \u2014 the backbone of derivatives pricing.",
  },
  {
    id: "stoch-9",
    category: "stochastic-calculus",
    difficulty: "medium",
    duration: "quick",
    tags: ["martingale"],
    title: "Martingale Check",
    body: "Which is a martingale under the standard filtration?",
    choices: ["W(t)\u00b2", "W(t)\u00b2 \u2212 t", "e^(W(t))", "W(t)\u00b2 + t"],
    correctIndex: 1,
    explanation:
      "W(t)\u00b2 \u2212 t is a martingale. E[W(t)\u00b2|F_s] = W(s)\u00b2 + (t\u2212s), so subtracting t compensates.",
  },

  // ═══════════════════════════════════════════════════════════════
  //  OPTIONS PRICING
  // ═══════════════════════════════════════════════════════════════
  {
    id: "opt-1",
    category: "options-pricing",
    difficulty: "easy",
    duration: "quick",
    tags: ["interview-classic", "hedging"],
    title: "Put-Call Parity",
    body: "Put-call parity for European options (no dividends):",
    choices: [
      "C \u2212 P = S \u2212 K",
      "C + P = S + Ke^(\u2212rT)",
      "C \u2212 P = S \u2212 Ke^(\u2212rT)",
      "C \u2212 P = Se^(\u2212rT) \u2212 K",
    ],
    correctIndex: 2,
    explanation:
      "C \u2212 P = S \u2212 Ke^(\u2212rT). Long call + short put replicates a forward.",
  },
  {
    id: "opt-2",
    category: "options-pricing",
    difficulty: "easy",
    duration: "quick",
    tags: ["interview-classic"],
    title: "Intrinsic Value",
    body: "European call: K=100, S=110. Intrinsic value?",
    choices: ["0", "10", "100", "110"],
    correctIndex: 1,
    explanation: "Call intrinsic = max(S \u2212 K, 0) = max(110 \u2212 100, 0) = 10.",
  },
  {
    id: "opt-3",
    category: "options-pricing",
    difficulty: "medium",
    duration: "quick",
    tags: ["greeks", "interview-classic"],
    title: "ATM Delta",
    body: "Delta of an ATM European call is approximately:",
    choices: ["0", "0.25", "0.5", "1.0"],
    correctIndex: 2,
    explanation: "ATM call delta \u2248 0.5 \u2014 roughly 50/50 chance of finishing ITM.",
  },
  {
    id: "opt-4",
    category: "options-pricing",
    difficulty: "medium",
    duration: "medium",
    tags: ["greeks", "volatility"],
    title: "Vega and Maturity",
    body: "How does ATM vega behave as time to expiry increases?",
    choices: ["Decreases", "Constant", "Increases", "First up then down"],
    correctIndex: 2,
    explanation: "ATM vega increases with time. More time = more vol exposure.",
  },
  {
    id: "opt-5",
    category: "options-pricing",
    difficulty: "hard",
    duration: "quick",
    tags: ["black-scholes", "interview-classic"],
    title: "BS Assumptions",
    body: "Which is NOT an assumption of Black-Scholes?",
    choices: [
      "Log-normal returns",
      "Constant volatility",
      "Constant risk-free rate",
      "Underlying can jump",
    ],
    correctIndex: 3,
    explanation:
      "BS assumes continuous paths (GBM). Jumps need extensions like Merton\u2019s jump-diffusion.",
  },
  {
    id: "opt-6",
    category: "options-pricing",
    difficulty: "hard",
    duration: "medium",
    tags: ["greeks", "interview-classic"],
    title: "Maximum Gamma",
    body: "Where is gamma (\u2202\u00b2C/\u2202S\u00b2) highest?",
    choices: ["Deep ITM", "ATM near expiry", "Deep OTM", "ATM far from expiry"],
    correctIndex: 1,
    explanation: "Gamma peaks ATM near expiry \u2014 delta changes most rapidly there.",
  },
  {
    id: "opt-7",
    category: "options-pricing",
    difficulty: "easy",
    duration: "quick",
    tags: ["greeks"],
    title: "Theta Sign",
    body: "For a long vanilla option, theta is typically:",
    choices: ["Positive", "Negative", "Zero", "Depends on moneyness"],
    correctIndex: 1,
    explanation: "Long options decay over time. Theta is negative.",
  },
  {
    id: "opt-8",
    category: "options-pricing",
    difficulty: "medium",
    duration: "medium",
    tags: ["volatility", "interview-classic"],
    title: "Vol Smile",
    body: "The equity vol smile means OTM puts have IV that is:",
    choices: ["Lower than ATM", "Equal to ATM", "Higher than ATM", "Undefined"],
    correctIndex: 2,
    explanation:
      "OTM puts have higher IV \u2014 the \u201cskew.\u201d Reflects crash risk and demand for protection.",
  },
  {
    id: "opt-9",
    category: "options-pricing",
    difficulty: "hard",
    duration: "long",
    tags: ["greeks", "hedging", "derivation"],
    title: "Delta-Gamma Hedging",
    body: "To delta-gamma hedge a portfolio, you need at minimum:",
    choices: [
      "1 instrument",
      "2: the underlying + 1 option",
      "3 instruments",
      "Infinite instruments",
    ],
    correctIndex: 1,
    explanation:
      "Underlying for delta (gamma=0), plus another option for gamma. Minimum 2.",
  },
  {
    id: "opt-10",
    category: "options-pricing",
    difficulty: "medium",
    duration: "quick",
    tags: ["greeks"],
    title: "What is Rho?",
    body: "The Greek \u2018rho\u2019 measures sensitivity to:",
    choices: ["Volatility", "Underlying price", "Interest rate", "Time"],
    correctIndex: 2,
    explanation: "Rho = \u2202C/\u2202r. Sensitivity to the risk-free rate.",
  },
  {
    id: "opt-11",
    category: "options-pricing",
    difficulty: "hard",
    duration: "long",
    tags: ["black-scholes", "pde", "derivation"],
    title: "Missing from BS PDE",
    body: "BS PDE: \u2202V/\u2202t + \u00bdS\u00b2\u03c3\u00b2\u2202\u00b2V/\u2202S\u00b2 + rS\u2202V/\u2202S \u2212 rV = 0. Which parameter is absent?",
    choices: ["\u03c3 (vol)", "\u03bc (drift)", "r (rate)", "S (price)"],
    correctIndex: 1,
    explanation:
      "The drift \u03bc disappears via hedging / risk-neutral pricing. You don\u2019t need expected returns to price options.",
  },

  // ═══════════════════════════════════════════════════════════════
  //  BRAIN TEASERS
  // ═══════════════════════════════════════════════════════════════
  {
    id: "brain-1",
    category: "brain-teasers",
    difficulty: "easy",
    duration: "quick",
    tags: ["mental-math"],
    title: "Quick Percentage",
    body: "What is 15% of 80?",
    choices: ["10", "12", "15", "8"],
    correctIndex: 1,
    explanation: "10% of 80 = 8. 5% of 80 = 4. Total = 12.",
  },
  {
    id: "brain-2",
    category: "brain-teasers",
    difficulty: "medium",
    duration: "medium",
    tags: ["logic-puzzle", "interview-classic"],
    title: "Monty Hall",
    body: "You pick door 1. Host opens door 3 (goat). Should you switch?",
    choices: [
      "No \u2014 50/50",
      "Yes \u2014 switching gives 2/3",
      "Doesn\u2019t matter",
      "Yes \u2014 switching gives 3/4",
    ],
    correctIndex: 1,
    explanation:
      "Switching wins 2/3 of the time. Initial pick = 1/3. Host concentrates 2/3 on the other door.",
  },
  {
    id: "brain-3",
    category: "brain-teasers",
    difficulty: "medium",
    duration: "quick",
    tags: ["expected-value", "interview-classic"],
    title: "Dice Game EV",
    body: "Roll a fair die, get paid that many $. Cost to play: $3.50. Worth it?",
    choices: [
      "No, EV = $3.00",
      "No, EV = $3.50",
      "Yes, EV = $3.50",
      "Yes, EV = $4.00",
    ],
    correctIndex: 2,
    explanation: "E[die] = (1+2+3+4+5+6)/6 = 3.5. Exactly break-even.",
  },
  {
    id: "brain-4",
    category: "brain-teasers",
    difficulty: "hard",
    duration: "long",
    tags: ["logic-puzzle", "expected-value"],
    title: "Two Envelopes",
    body: "Two envelopes, one has 2x. You see $100. Naive switching EV = $125. The flaw?",
    choices: [
      "Probabilities aren\u2019t equal",
      "Conflates two sample spaces",
      "Can\u2019t open envelope",
      "EV is correct",
    ],
    correctIndex: 1,
    explanation:
      "The paradox conflates the scenario where $100 is the small amount vs the large amount without a proper prior.",
  },
  {
    id: "brain-5",
    category: "brain-teasers",
    difficulty: "hard",
    duration: "medium",
    tags: ["expected-value", "interview-classic"],
    title: "St. Petersburg Variant",
    body: "$1 start, double on heads, lose all on tails. E[payoff] after n flips?",
    choices: ["$1", "$2\u207f", "Diverges", "$0"],
    correctIndex: 0,
    explanation: "E = (1/2^n) \u00d7 2^n = $1. Growth exactly offsets probability decay.",
  },
  {
    id: "brain-6",
    category: "brain-teasers",
    difficulty: "easy",
    duration: "quick",
    tags: ["mental-math"],
    title: "Quick Multiply",
    body: "25 \u00d7 16 = ?",
    choices: ["350", "375", "400", "425"],
    correctIndex: 2,
    explanation: "25 \u00d7 16 = 25 \u00d7 4 \u00d7 4 = 100 \u00d7 4 = 400.",
  },
  {
    id: "brain-7",
    category: "brain-teasers",
    difficulty: "medium",
    duration: "medium",
    tags: ["estimation", "interview-classic"],
    title: "Fermi: Piano Tuners",
    body: "Roughly how many piano tuners in Chicago? (Pop ~2.7M)",
    choices: ["~20", "~100", "~200", "~1000"],
    correctIndex: 2,
    explanation:
      "~900K households, ~10% with pianos = 90K. Tuner does ~1000/year. 90K/1000 \u2248 90\u2013200.",
  },
  {
    id: "brain-8",
    category: "brain-teasers",
    difficulty: "easy",
    duration: "quick",
    tags: ["mental-math"],
    title: "Fraction to Decimal",
    body: "7/8 as a decimal?",
    choices: ["0.75", "0.825", "0.875", "0.9"],
    correctIndex: 2,
    explanation: "7/8 = 1 \u2212 1/8 = 1 \u2212 0.125 = 0.875.",
  },
  {
    id: "brain-9",
    category: "brain-teasers",
    difficulty: "hard",
    duration: "long",
    tags: ["logic-puzzle", "interview-classic"],
    title: "100 Prisoners & Lightbulb",
    body: "100 prisoners, 1 lightbulb, random daily visits. One must declare \u201call visited.\u201d Optimal expected time?",
    choices: ["~1,000 days", "~2,500 days", "~10,000 days", "~50,000 days"],
    correctIndex: 2,
    explanation:
      "~10,000 days. One counter; others toggle on once. E \u2248 100 \u00d7 100 \u00d7 H\u2089\u2089.",
  },
  {
    id: "brain-10",
    category: "brain-teasers",
    difficulty: "medium",
    duration: "quick",
    tags: ["mental-math", "interview-classic"],
    title: "Mental Square Root",
    body: "Approximate \u221a50:",
    choices: ["~6.5", "~7.07", "~7.5", "~8.0"],
    correctIndex: 1,
    explanation: "\u221a49 = 7. \u221a50 = 5\u221a2 \u2248 5 \u00d7 1.414 = 7.07.",
  },
  {
    id: "brain-11",
    category: "brain-teasers",
    difficulty: "easy",
    duration: "quick",
    tags: ["mental-math"],
    title: "Compound Interest Shortcut",
    body: "At 6% annual interest, roughly how many years to double your money? (Rule of 72)",
    choices: ["6", "10", "12", "18"],
    correctIndex: 2,
    explanation: "Rule of 72: 72/6 = 12 years. Quick mental estimate for doubling time.",
  },

  // ═══════════════════════════════════════════════════════════════
  //  LINEAR ALGEBRA
  // ═══════════════════════════════════════════════════════════════
  {
    id: "la-1",
    category: "linear-algebra",
    difficulty: "easy",
    duration: "quick",
    tags: ["matrix-ops"],
    title: "Eigenvalue of A\u00b2",
    body: "If \u03bb is an eigenvalue of A, then \u03bb\u00b2 is an eigenvalue of:",
    choices: ["A + A", "2A", "A\u00b2", "A\u1d40"],
    correctIndex: 2,
    explanation: "Av = \u03bbv \u21d2 A\u00b2v = \u03bb\u00b2v.",
  },
  {
    id: "la-2",
    category: "linear-algebra",
    difficulty: "easy",
    duration: "quick",
    tags: ["matrix-ops"],
    title: "Invertibility",
    body: "A square matrix is invertible iff its determinant is:",
    choices: ["Positive", "Negative", "Non-zero", "1"],
    correctIndex: 2,
    explanation: "det(A) \u2260 0 \u21d4 invertible.",
  },
  {
    id: "la-3",
    category: "linear-algebra",
    difficulty: "medium",
    duration: "medium",
    tags: ["matrix-ops", "portfolio-theory"],
    title: "Positive Definite",
    body: "A symmetric matrix is positive definite when:",
    choices: [
      "All diagonal entries > 0",
      "All eigenvalues > 0",
      "Trace > 0",
      "Determinant > 0",
    ],
    correctIndex: 1,
    explanation: "PD \u21d4 all eigenvalues > 0.",
  },
  {
    id: "la-4",
    category: "linear-algebra",
    difficulty: "medium",
    duration: "medium",
    tags: ["decomposition", "portfolio-theory"],
    title: "PCA First Component",
    body: "PC1 is the eigenvector of the covariance matrix with the:",
    choices: ["Smallest eigenvalue", "Largest eigenvalue", "Median", "Closest to 1"],
    correctIndex: 1,
    explanation: "PC1 = direction of maximum variance = largest eigenvalue.",
  },
  {
    id: "la-5",
    category: "linear-algebra",
    difficulty: "hard",
    duration: "medium",
    tags: ["decomposition", "monte-carlo"],
    title: "Cholesky Decomposition",
    body: "Cholesky A = LL\u1d40 requires A to be:",
    choices: [
      "Square and invertible",
      "Symmetric positive definite",
      "Orthogonal",
      "Diagonalizable",
    ],
    correctIndex: 1,
    explanation:
      "Cholesky needs symmetric PD. Used in finance for simulating correlated normals.",
  },
  {
    id: "la-6",
    category: "linear-algebra",
    difficulty: "easy",
    duration: "quick",
    tags: ["matrix-ops"],
    title: "Trace Property",
    body: "tr(A) equals the sum of its:",
    choices: ["Diagonal entries only", "Eigenvalues", "Singular values", "Both A and B"],
    correctIndex: 3,
    explanation: "tr(A) = \u2211a\u1d62\u1d62 = \u2211\u03bb\u1d62.",
  },
  {
    id: "la-7",
    category: "linear-algebra",
    difficulty: "medium",
    duration: "medium",
    tags: ["matrix-ops", "numerical-methods"],
    title: "Condition Number",
    body: "A large condition number means:",
    choices: [
      "Matrix is singular",
      "System is well-conditioned",
      "Small input changes \u2192 large output changes",
      "Complex eigenvalues",
    ],
    correctIndex: 2,
    explanation:
      "Large \u03ba = \u03bb_max/\u03bb_min means ill-conditioned \u2014 sensitive to perturbations.",
  },
  {
    id: "la-8",
    category: "linear-algebra",
    difficulty: "hard",
    duration: "long",
    tags: ["decomposition", "numerical-methods"],
    title: "SVD Uses",
    body: "SVD (A = U\u03a3V\u1d40) is used for all EXCEPT:",
    choices: [
      "Dimensionality reduction",
      "Pseudo-inverse",
      "Sparse matrix storage",
      "Correlation matrix denoising",
    ],
    correctIndex: 2,
    explanation: "SVD handles dim reduction, pseudo-inverses, denoising. Sparse storage is unrelated (CSR/COO).",
  },
  {
    id: "la-9",
    category: "linear-algebra",
    difficulty: "hard",
    duration: "long",
    tags: ["matrix-ops", "risk-management"],
    title: "Spectral Theorem",
    body: "A real symmetric matrix decomposes as:",
    choices: ["LU", "QR", "Q\u039bQ\u1d40 (orthogonal Q)", "SVD only"],
    correctIndex: 2,
    explanation:
      "Spectral theorem: real symmetric \u21d2 A = Q\u039bQ\u1d40, Q orthogonal, \u039b diagonal with real eigenvalues.",
  },

  // ═══════════════════════════════════════════════════════════════
  //  CROSS-CATEGORY / ADVANCED
  // ═══════════════════════════════════════════════════════════════
  {
    id: "adv-1",
    category: "options-pricing",
    difficulty: "hard",
    duration: "long",
    tags: ["monte-carlo", "numerical-methods"],
    title: "MC Convergence Rate",
    body: "MC error decreases O(1/\u221aN). To halve the error you need:",
    choices: ["2x samples", "4x samples", "10x samples", "\u221a2x samples"],
    correctIndex: 1,
    explanation: "1/\u221a(4N) = \u00bd/\u221aN. Need 4x samples to halve error.",
  },
  {
    id: "adv-2",
    category: "probability",
    difficulty: "medium",
    duration: "medium",
    tags: ["expected-value", "interview-classic"],
    title: "Dice Reroll Strategy",
    body: "Roll a fair die, can keep or reroll once. Optimal EV?",
    choices: ["3.5", "4.25", "4.5", "5.0"],
    correctIndex: 1,
    explanation:
      "Reroll if \u22643 (EV=3.5 > current). Keep 4,5,6. EV = (3/6)(3.5) + (1/6)(4+5+6) = 4.25.",
  },
  {
    id: "adv-3",
    category: "statistics",
    difficulty: "medium",
    duration: "medium",
    tags: ["risk-management", "portfolio-theory"],
    title: "VaR Shortcoming",
    body: "A well-known flaw of Value-at-Risk is:",
    choices: [
      "Hard to compute",
      "Not sub-additive (fails diversification)",
      "Requires normality",
      "Can\u2019t be backtested",
    ],
    correctIndex: 1,
    explanation:
      "VaR can violate sub-additivity: VaR(A+B) > VaR(A)+VaR(B). CVaR fixes this.",
  },
  {
    id: "adv-4",
    category: "options-pricing",
    difficulty: "medium",
    duration: "quick",
    tags: ["volatility", "interview-classic"],
    title: "Straddle P&L",
    body: "You buy an ATM straddle. You profit when:",
    choices: [
      "Stock rises",
      "Stock falls",
      "Realized vol > implied vol",
      "Implied vol drops",
    ],
    correctIndex: 2,
    explanation: "Straddles bet on vol. Profit when realized moves > implied pricing.",
  },
  {
    id: "adv-5",
    category: "probability",
    difficulty: "hard",
    duration: "long",
    tags: ["expected-value", "interview-classic"],
    title: "Broken Stick",
    body: "Break a unit stick at 2 random points. P(three pieces form a triangle)?",
    choices: ["1/2", "1/3", "1/4", "1/8"],
    correctIndex: 2,
    explanation:
      "P = 1/4. Triangle inequality requires all pieces < 1/2. The favorable simplex region has area 1/4.",
  },
  {
    id: "adv-6",
    category: "statistics",
    difficulty: "hard",
    duration: "long",
    tags: ["portfolio-theory", "risk-management"],
    title: "Capital Market Line",
    body: "On the efficient frontier, adding a risk-free asset creates the:",
    choices: ["Security Market Line", "Capital Market Line", "Capital Allocation Line", "Characteristic Line"],
    correctIndex: 1,
    explanation:
      "The tangent from r_f to the frontier is the CML. All optimal portfolios lie on it.",
  },
  {
    id: "adv-7",
    category: "stochastic-calculus",
    difficulty: "hard",
    duration: "long",
    tags: ["pde", "numerical-methods"],
    title: "Explicit FD Stability",
    body: "The main drawback of explicit finite differences for BS PDE:",
    choices: [
      "Inaccurate",
      "Unstable for large \u0394t",
      "Requires matrix inversion",
      "European options only",
    ],
    correctIndex: 1,
    explanation:
      "Explicit FD is conditionally stable: needs \u0394t \u2264 \u0394x\u00b2/(2D). Implicit is unconditionally stable.",
  },
  {
    id: "adv-8",
    category: "options-pricing",
    difficulty: "medium",
    duration: "medium",
    tags: ["volatility", "risk-management"],
    title: "Variance Swap Strike",
    body: "A variance swap\u2019s fair strike equals:",
    choices: ["Historical variance", "ATM IV", "Risk-neutral E[realized var]", "The VIX"],
    correctIndex: 2,
    explanation:
      "Fair strike = E^Q[realized var]. Replicated by a strip of options across all strikes.",
  },
  {
    id: "adv-9",
    category: "probability",
    difficulty: "easy",
    duration: "quick",
    tags: ["expected-value", "interview-classic"],
    title: "Linearity of Expectation",
    body: "100 people check coats. Coats returned randomly. E[people who get their own coat]?",
    choices: ["0", "1", "10", "50"],
    correctIndex: 1,
    explanation:
      "E = \u2211P(person i gets own coat) = 100 \u00d7 1/100 = 1. Linearity of expectation \u2014 no independence needed.",
  },
  {
    id: "adv-10",
    category: "options-pricing",
    difficulty: "easy",
    duration: "quick",
    tags: ["interview-classic", "hedging"],
    title: "Protective Put",
    body: "Long stock + long put is equivalent to:",
    choices: [
      "Short straddle",
      "Long call + bond",
      "Short strangle",
      "Bear spread",
    ],
    correctIndex: 1,
    explanation:
      "By put-call parity: S + P = C + Ke^(\u2212rT). Stock + put = call + bond.",
  },
];
